// استبدل دالة saveData في الكود بهذا الجزء فقط أو انسخ الكود كاملاً مرة أخرى
const saveData = async (newList) => {
    setLoading(true);
    try {
        const content = btoa(unescape(encodeURIComponent(JSON.stringify(newList, null, 2))));
        const res = await fetch(`https://api.github.com/repos/${config.owner}/${config.repo}/contents/${config.path}`, {
            method: 'PUT',
            headers: { 
                Authorization: `token ${config.token}`, 
                'Content-Type': 'application/json' 
            },
            body: JSON.stringify({ message: "Update", content, sha })
        });
        
        if (res.ok) {
            const d = await res.json();
            setSha(d.content.sha);
            setServers(newList);
            alert("✅ تم الحفظ في GitHub بنجاح!");
        } else {
            const errorData = await res.json();
            alert("❌ فشل الحفظ: " + errorData.message); // سيخبرك هنا ما المشكلة بالضبط
        }
    } catch (e) {
        alert("❌ خطأ في الاتصال بالإنترنت");
    } finally {
        setLoading(false);
    }
};
